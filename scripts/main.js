"use strict";!function(){function a(){l=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),n.forEach(function(a){var b=a.range,c=a.hash;l>=t*b[0]&&l<t*b[1]&&m!=c&&(m=c,f(c),history.pushState(null,null,c))})}function b(a){u=a.touches[0].clientX,v=a.touches[0].clientY}function c(a){u&&v&&(w=u-a.touches[0].clientX,x=v-a.touches[0].clientY)}function d(){Math.abs(w)>Math.abs(x)&&(w>150&&j&&(history.pushState(null,null,j.hash),f(j.hash)),-150>w&&k&&(history.pushState(null,null,k.hash),f(k.hash))),u=null,v=null}function e(a){console.log(a.target.dataset.target),"next"==a.target.dataset.target&&j&&f(j.hash),"prev"==a.target.dataset.target&&k&&f(k.hash)}function f(a){isMobile.phone&&(document.documentElement.scrollTop=document.querySelector(".slider__item--"+a.slice(1)).offsetTop,document.body.scrollTop=document.querySelector(".slider__item--"+a.slice(1)).offsetTop),n.forEach(function(b,c){b.hash==a&&(i=c)});for(var b=0;b<s.length;b++)s[b].classList.remove("active"),s[b].classList.remove("next"),s[b].classList.remove("prev"),r[b].classList.remove("active");for(var b=0;b<s.length;b++)b>i?s[b].classList.add("next"):i>b?s[b].classList.add("prev"):(s[b].classList.add("active","in"),r[b].classList.add("active"));j=n[i+1],k=n[i-1],document.getElementsByClassName("slider")[0].classList.remove("last-slide","first-slide"),j||document.getElementsByClassName("slider")[0].classList.add("last-slide"),k||document.getElementsByClassName("slider")[0].classList.add("first-slide"),setTimeout(function(){return s[i].classList.remove("in")},700)}function g(){var a=.578;window.innerWidth>=992?document.getElementsByClassName("page")[0].setAttribute("style","height:"+window.innerWidth*a+"px"):document.getElementsByClassName("page")[0].removeAttribute("style")}function h(){var a=window.innerWidth,b=window.innerHeight;document.getElementsByClassName("slider__screen")[0].style.height=b>a?b+"px":a+"px"}var i,j,k,l,m,n=[{range:[0,.2],hash:"#home"},{range:[.2,.4],hash:"#features"},{range:[.4,1],hash:"#form"}],o=window.history.location||window.location,p=document.querySelectorAll(".j-field-text, .j-field-select"),q=document.getElementsByClassName("j-btn-nav"),r=document.getElementsByClassName("pager__item"),s=document.getElementsByClassName("slider__item"),t=document.querySelector(".page-scroll").offsetHeight,u=null,v=null,w=null,x=null;f(window.location.hash.length?window.location.hash:"#home"),window.addEventListener("resize",g),window.addEventListener("load",g),window.addEventListener("onpopstate",function(){f(o.hash)}),isMobile.tablet&&(document.querySelector("body").classList.add("device-tablet"),document.addEventListener("touchstart",b,!1),document.addEventListener("touchend",d,!1),document.addEventListener("touchmove",c,!1)),isMobile.any||window.addEventListener("scroll",a),isMobile.phone&&h();for(var y=0;y<q.length;y++)q[y].addEventListener("click",function(a){window.innerWidth>=768&&(a.preventDefault(),f(this.hash),history.pushState(null,null,this.hash))});for(var y=0;y<document.getElementsByClassName("j-slider__nav").length;y++)document.getElementsByClassName("j-slider__nav")[y].addEventListener("click",e,!1);for(var y=0;y<p.length;y++)p[y].value?p[y].classList.add("not-empty"):(p[y].addEventListener("focus",function(a){a.target.classList.add("not-empty"),a.target.classList.remove("error")}),p[y].addEventListener("blur",function(a){a.target.value&&""!=a.target.value||a.target.classList.remove("not-empty")}),p[y].addEventListener("change",function(a){"select"==a.target.nodeName.toLowerCase()&&(""==a.target.value?a.target.classList.remove("not-empty"):a.target.classList.add("not-empty"))}))}();